/*
 *  wow-achievements - v1.0.0
 *  A jQuery plugin for displaying World of Warcraft-like achievements on websites.
 *  https://frondor.github.io/WoW-Achievements
 *
 *  Made by Frondor
 *  Under MIT License
 */
!function(a,b,c,d){var e,f="achievement",g="plugin_"+f,h=function(b){var d='<style type="text/css">.wowachievement{display:none}#wowachievements{width:310px;padding:0;position:fixed;bottom:50px;left:50%;margin-left:-155px;z-index:9990}#wowachievements a{font-size:0;display:block;position:absolute;top:0;left:0;right:0;bottom:0;color:inherit;text-transform:none;z-index:9999}#wowachievements .wa-text-truncate{white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}#wowachievements .wa-sprite{background:url('+b+"wa-sprite.png) left top no-repeat}#wowachievements .wa-character{display:none;background-position:0 0;margin:0;padding:0;width:100%;height:90px;position:relative;z-index:9991}#wowachievements .wa-character .wa-icon{float:left;display:inline-block;width:75px;height:71px;position:relative;top:9px;z-index:9998}#wowachievements .wa-character .wa-frame{background-position:-383px 0;position:absolute;width:100%;height:100%;z-index:9994}#wowachievements .wa-character .wa-icon img{width:50px;height:50px;margin:0 auto;position:relative;top:11px;left:11px;z-index:9993}#wowachievements .wa-character .wa-heading,#wowachievements .wa-character .wa-title{width:172px;text-align:center;position:relative;text-rendering:optimizeLegibility;z-index:9992}#wowachievements .wa-character .wa-heading{font:10px Arial;font-weight:700;top:24px;margin:0;padding:0;color:#0A0A0A;height:11px;line-height:-moz-block-height}#wowachievements .wa-character .wa-title{letter-spacing:.3px;font:12px Georgia;display:inline-block;height:16px;text-shadow:2px 1px #000;color:#FFF;font-weight:700;top:29px}#wowachievements .wa-character .wa-type{background-position:-462px -11px;width:53px;height:47px;position:absolute;right:10px;top:19px;z-index:9998}#wowachievements .wa-character .ach-hover{background-position:-312px -3px;width:71px;height:83px;position:absolute;left:0;top:3px;opacity:0;z-index:9994}#wowachievements .wa-character .wa-glow{background-position:6px -90px;position:absolute;top:-15px;left:-34px;width:385px;height:151px;z-index:9997}#wowachievements .wa-guild{display:none;background-position:-568px 0;margin:0;padding:0;width:100%;height:100px;position:relative;z-index:9991}#wowachievements .wa-guild .wa-icon{float:left;display:inline-block;width:75px;height:75px;position:relative;top:27px;left:-3px;z-index:9998}#wowachievements .wa-guild .wa-frame{background-position:-378px -73px;position:absolute;width:100%;height:100%;z-index:9994}#wowachievements .wa-guild .wa-icon img{width:50px;height:50px;margin:0 auto;position:relative;top:10px;left:13px;z-index:9993}#wowachievements .wa-guild .wa-guildname,#wowachievements .wa-guild .wa-heading,#wowachievements .wa-guild .wa-title{text-align:center;position:relative;text-rendering:optimizeLegibility;z-index:9992}#wowachievements .wa-guild .wa-guildname{letter-spacing:.3px;font:11px Georgia;display:inline-block;width:172px;height:16px;text-shadow:2px 1px #000;color:#DBAC40;font-weight:700;top:14px}#wowachievements .wa-guild .wa-heading{font:10px Arial;font-weight:700;top:18px;margin:0;padding:0;color:#0A0A0A;line-height:-moz-block-height;width:160px;height:11px}#wowachievements .wa-guild .wa-title{letter-spacing:.3px;font:12px Georgia;display:inline-block;width:144px;height:16px;text-shadow:2px 1px #000;color:#FFF;font-weight:700;top:24px;left:6px}#wowachievements .wa-guild .wa-type{background-position:-514px -11px;width:53px;height:47px;position:absolute;right:17px;top:36px;z-index:9998}#wowachievements .wa-guild .ach-hover{background-position:-460px -62px;width:71px;height:83px;position:absolute;left:0;top:8px;opacity:0;z-index:9994}#wowachievements .wa-guild .wa-glow{background-position:-528px -98px;position:absolute;top:-15px;left:-25px;width:360px;height:151px;z-index:9997}</style>",f=a("#wowachievements")[0];f?e=a("#wowachievements"):(e=a("<div></div>",{id:"wowachievements"}),a(c.body).append(e),e.delegate(".wa-achievement","mouseenter mouseleave",function(b){var c=a(b.currentTarget);"mouseenter"===b.type?c.clearQueue().finish().show():"mouseleave"===b.type&&k(c,1e3)}),a(c.head).append(d))},i=function(b,c){c.EnableAudio!==!1&&l(c);var d=new Image;d.onload=function(){a.when(b.fadeIn(300)).done(function(){b.find(".wa-glow").fadeOut(500),b.find(".ach-hover").css({left:"0px",opacity:"1"}).stop().animate({left:"252px",opacity:"0"},1100),k(b,c.Duration)})},d.src=c.MediaSourcePath+"wa-sprite.png"},j=function(b,c){var d=c.url?'<a href="'+c.url+'" target="_blank"></a>':"",f=a("<div></div>",{"class":"wa-sprite wa-achievement wa-character"});f.append('<div class="wa-sprite wa-glow"></div><div class="wa-sprite ach-hover"></div><div class="wa-icon"><div class="wa-sprite wa-frame"></div><img src="'+c.icon+'" alt="+'+c.title+'+" width="50px" height="50px"/></div><div class="wa-heading wa-text-truncate">'+c.AchievementEarned+'</div><span class="wa-title wa-text-truncate">'+c.title+'</span><div class="wa-sprite wa-type"></div>'+d);var g=a("<div></div>",{"class":"wa-sprite wa-achievement wa-guild"});g.append('<div class="wa-sprite wa-glow"></div><div class="wa-sprite ach-hover"></div><div class="wa-icon"><div class="wa-sprite wa-frame"></div><img src="'+c.icon+'" alt="'+c.title+'" width="50px" height="50px"/></div><div class="wa-guildname wa-text-truncate">'+c.GuildName+'</div><div class="wa-heading wa-text-truncate">'+c.GuildAchievementEarned+'</div><span class="wa-title wa-text-truncate">'+c.title+'</span><div class="wa-sprite wa-type"></div>'+d);var h;h="guild"===c.type?g:f,e.append(h),i(h,c)},k=function(a,b){a.delay(b).fadeOut(2e3,function(){"inprogress"===a.queue()[0]&&a.remove()})},l=function(b){var c=a("#achievement-sound")[0];c?(c.pause(),c.currentTime=0,c.play()):e.append('<audio id="achievement-sound" autoplay preload="auto"><source src="'+b.MediaSourcePath+'a.mp3" type="audio/mp3"><source src="'+b.MediaSourcePath+'a.ogg" type="audio/ogg"></audio>')},m=function(b,c,d){d&&(b=a(b),c.title=b.text(),c.url=b.attr("href"),c.icon=b.data("wa-icon"),c.type=b.hasClass("wowachievement-g")?"guild":null),j(b,c)},n=function(a,b,c){this.element=a,this.options={title:null,icon:"//wow.zamimg.com/images/wow/icons/large/achievement_general.jpg",url:null,type:null,MediaSourcePath:"../wa-media/",EnableAudio:!1,AchievementEarned:"Achievement Earned",GuildName:"WoW Achievements",GuildAchievementEarned:"Guild Achievement Earned",Duration:3e3},this.init(b,c)};n.prototype={init:function(b,c){a.extend(this.options,b),h(this.options.MediaSourcePath),new m(this.element,this.options,c)}},a[f]=function(b,c,d){return b&&b.nodeName||b.jquery?a(b)[f](d):(d=b,new n(null,d,!1)),b},a.fn[f]=function(b){return this.each(function(){a.data(this,g)||a.data(this,g,new n(this,b,!0))})}}(jQuery,window,document);